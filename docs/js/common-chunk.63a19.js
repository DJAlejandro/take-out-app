(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["common"],{0:function(t,s,i){t.exports=i("56d7")},"10f0":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.ratings,expression:"ratings"}],staticClass:"ratings"},[i("div",{staticClass:"ratings-header border-horizontal-1px"},[i("div",{staticClass:"ratings-all",class:{active:t.isActive===t.ALL},on:{click:function(s){return t.changeRatings(t.ALL)}}},[i("span",{staticClass:"text"},[t._v(t._s(t.desc.all))]),t.ratings?i("span",{staticClass:"num"},[t._v(t._s(t.ratings.length))]):t._e()]),i("div",{staticClass:"ratings-positive",class:{active:t.isActive===t.POSITIVE},on:{click:function(s){return t.changeRatings(t.POSITIVE)}}},[i("span",{staticClass:"text"},[t._v(t._s(t.desc.positive))]),t.ratings?i("span",{staticClass:"num"},[t._v(t._s(t.positives.length))]):t._e()]),i("div",{staticClass:"ratings-negative",class:{active:t.isActive===t.NEGATIVE},on:{click:function(s){return t.changeRatings(t.NEGATIVE)}}},[i("span",{staticClass:"text"},[t._v(t._s(t.desc.negative))]),t.ratings?i("span",{staticClass:"num"},[t._v(t._s(t.negatives.length))]):t._e()])]),i("div",{staticClass:"ratings-filter",on:{click:t.toggleEmptyComment}},[i("i",{staticClass:"iconfont icon-right1",class:{active:t.hideEmpty}}),t._v("\n        只查看有评价的内容\n    ")])])},a=[],n=(i("c5f6"),2),o=0,c=1,r={name:"Rating",props:{isActive:Number,hideEmpty:Boolean,desc:Object,ratings:Array},data:function(){return{ALL:n,POSITIVE:o,NEGATIVE:c}},methods:{changeRatings:function(t){this.$emit("change-ratings",t)},toggleEmptyComment:function(){this.$emit("empty-comment")}},computed:{positives:function(){return this.ratings.filter(function(t){return t.rateType===o})},negatives:function(){return this.ratings.filter(function(t){return t.rateType===c})}}},l=r,d=(i("de4e"),i("2877")),u=Object(d["a"])(l,e,a,!1,null,"0f188928",null);s["a"]=u.exports},"17a9":function(t,s,i){"use strict";var e=2;s["a"]={data:function(){return{hideEmpty:!1,isActive:e}},computed:{},methods:{showItem:function(t){return(!this.hideEmpty||0!=t.text.length)&&(this.isActive===e||t.rateType===this.isActive)}}}},"17b1":function(t,s,i){},"1f5e":function(t,s,i){"use strict";var e=i("79ae"),a=i.n(e);a.a},2877:function(t,s,i){"use strict";function e(t,s,i,e,a,n,o,c){var r,l="function"===typeof t?t.options:t;if(s&&(l.render=s,l.staticRenderFns=i,l._compiled=!0),e&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),o?(r=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=r):a&&(r=c?function(){a.call(this,this.$root.$options.shadowRoot)}:a),r)if(l.functional){l._injectStyles=r;var d=l.render;l.render=function(t,s){return r.call(s),d(t,s)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,r):[r]}return{exports:t,options:l}}i.d(s,"a",function(){return e})},"2ac9":function(t,s,i){},"2b97":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"star"},t._l(t.starClass,function(s,e){return i("div",{key:e,staticClass:"star-item",class:[s,t.starSize]})}),0)},a=[],n=(i("c5f6"),{name:"Star",props:{size:String,score:Number},data:function(){return{starClass:[]}},methods:{starPoint:function(){for(var t=[],s=Math.floor(this.score),i=this.score-s>=.5,e=5-s-i,a=0;a<s;a++)t.push("on");i&&t.push("half");for(a=0;a<e;a++)t.push("off");this.starClass=t}},watch:{score:function(){this.$nextTick(function(){this.starPoint()})}},computed:{starSize:function(){return"star"+this.size}},mounted:function(){this.starPoint()}}),o=n,c=(i("abb0"),i("2877")),r=Object(c["a"])(o,e,a,!1,null,null,null);s["a"]=r.exports},"2f62":function(t,s,i){t.exports=i("2240")(7)},"3b9b":function(t,s,i){"use strict";var e=i("17b1"),a=i.n(e);a.a},"56d7":function(t,s,i){"use strict";i.r(s);i("cadf"),i("551c"),i("f751"),i("097d");var e=i("a026"),a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"app"}},[i("v-header",{attrs:{seller:t.seller}}),i("div",{ref:"tab",staticClass:"nav-tab"},[i("router-link",{staticClass:"tab-item",attrs:{"active-class":"active",to:"/"}},[t._v("商品")]),i("router-link",{staticClass:"tab-item",attrs:{"active-class":"active",to:"/grade"}},[t._v("评价")]),i("router-link",{staticClass:"tab-item",attrs:{"active-class":"active",to:"/seller"}},[t._v("商家")]),i("div",{ref:"line",staticClass:"nav-line"})],1),i("transition",{attrs:{name:t.transitionName}},[i("keep-alive",[i("router-view",{attrs:{goods:t.goods,ratings:t.ratings,seller:t.seller},on:{summary:t.summary}})],1)],1),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isAllShow,expression:"isAllShow"}],staticClass:"blur-bg"})]),i("div",{staticClass:"shop-cart-wrapper"},[i("shop-cart",{attrs:{seller:t.seller,selectFoods:t.selectFoods,isAllShow:t.isAllShow},on:{"toggle-show":t.toggleShow}})],1)],1)},n=[],o=(i("28a5"),function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"header",staticClass:"header"},[i("div",{staticClass:"header-content clearfix"},[i("div",{staticClass:"header-content-left"},[i("img",{attrs:{src:t.seller.avatar}})]),i("div",{staticClass:"header-content-right"},[i("div",{staticClass:"header-title"},[i("span",{staticClass:"header-title-brand"}),i("span",{staticClass:"header-name",class:{android:t.AndroidPx}},[t._v(t._s(t.seller.name))])]),i("div",{staticClass:"header-desc"},[t._v(t._s(t.seller.description)+" / "+t._s(t.seller.deliveryTime)+"分钟送达")]),t.seller.supports?i("div",{staticClass:"header-supports",class:{android:t.AndroidPx}},[i("v-pics",{staticClass:"header-supports-brand",attrs:{index:t.seller.supports[0].type,indexArr:"1"}}),i("span",{staticClass:"header-text",class:{android:t.AndroidPx}},[t._v(t._s(t.seller.supports[0].description))])],1):t._e()]),t.seller.supports?i("div",{staticClass:"header-more",on:{click:t.showCover}},[i("span",{staticClass:"header-count"},[t._v(t._s(t.seller.supports.length)+"个")]),i("i",{staticClass:"iconfont icon-right",class:{android:t.AndroidPx}})]):t._e()]),i("div",{staticClass:"header-bulletin clearfix",on:{click:t.showCover}},[i("div",{staticClass:"header-bulletin-left"}),i("div",{staticClass:"header-bulletin-right",class:{android:t.AndroidPx}},[i("i",{staticClass:"iconfont icon-right"})]),i("div",{staticClass:"header-bulletin-main",class:{android:t.AndroidPx}},[t._v(t._s(t.seller.bulletin))])]),i("div",{staticClass:"header-bgimg"},[i("img",{attrs:{src:t.seller.avatar}})]),i("transition",{attrs:{name:"full-screen"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"full-screen"},[i("div",{staticClass:"wrapper clearfix"},[i("div",{staticClass:"full-screen-content"},[i("h1",[t._v(t._s(t.seller.name))]),i("div",{staticClass:"star-wrapper"},[i("v-star",{attrs:{size:"48",score:t.seller.score}})],1),i("div",{staticClass:"full-screen-info"},[i("span",{staticClass:"flex-line"}),i("span",{staticClass:"flex-main"},[t._v("优惠信息")]),i("span",{staticClass:"flex-line"})]),t.seller.supports?i("div",{staticClass:"full-screen-info-detail"},[i("ul",t._l(t.seller.supports,function(s){return i("li",{staticClass:"full-screen-info-item"},[i("v-pics",{staticClass:"full-screen-info-brand",attrs:{index:s.type,indexArr:"2"}}),i("span",{staticClass:"detail-text"},[t._v(t._s(s.description))])],1)}),0)]):t._e(),i("div",{staticClass:"full-screen-info"},[i("span",{staticClass:"flex-line"}),i("span",{staticClass:"flex-main"},[t._v("商家公告")]),i("span",{staticClass:"flex-line"})]),i("div",{staticClass:"full-screen-bulletin"},[t._v(t._s(t.seller.bulletin))])])]),i("div",{staticClass:"footer"},[i("i",{staticClass:"iconfont icon-close",on:{click:t.closeCover}})])])])],1)}),c=[],r=i("2b97"),l=i("91ca");i("4917");function d(){var t=navigator.userAgent.toLowerCase();return"android"==t.match(/android/i)}var u={name:"Header",props:{seller:{type:Object}},components:{vStar:r["a"],vPics:l["a"]},data:function(){return{isShow:!1,AndroidPx:!1}},methods:{showCover:function(){this.isShow=!0},closeCover:function(){this.isShow=!1}},created:function(){d()&&(this.AndroidPx=!0)}},h=u,f=(i("f2e6"),i("2877")),p=Object(f["a"])(h,o,c,!1,null,"c42a1f6a",null),v=p.exports,m=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"shop-cart clearfix"},[i("div",{staticClass:"shop-cart-left"},[i("div",{staticClass:"cart-left-content"},[i("div",{staticClass:"shop-calculate"},[i("div",{staticClass:"calculate-content",class:{active:t.totalCount>0},on:{click:t.toggleShow}},[i("i",{staticClass:"iconfont icon-cart"})]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount>0"}],staticClass:"count-all"},[t._v(t._s(t.totalCount))])]),i("span",{staticClass:"shop-price-all border-vertical-1px",class:{active:t.totalCount>0}},[t._v("￥"+t._s(t.totalPrice))]),i("span",{staticClass:"delivery-price"},[t._v("另需配送费￥"+t._s(t.seller.deliveryPrice)+"元")])])]),i("div",{staticClass:"shop-cart-right"},[i("div",{staticClass:"shop-cart-btn",class:{active:t.isActive},on:{click:t.openAlertDialog}},[t._v(t._s(t.cartContent))])]),i("transition",{attrs:{name:"move"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isAllShow,expression:"isAllShow"}],staticClass:"detail-wrapper"},[i("shop-detail",{attrs:{selectFoods:t.selectFoods,isAllShow:t.isAllShow},on:{"confirm-show":t.confirmShow}})],1)])],1),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isConfirmShow||t.isAlertShow,expression:"isConfirmShow || isAlertShow"}],staticClass:"dialog-bg"})]),i("transition",{attrs:{name:"bounce"}},[t.isConfirmShow?i("div",{staticClass:"dialog-confirm"},[i("div",{staticClass:"dialog-confirm-title"},[t._v("清空购物车？")]),i("div",{staticClass:"dialog-confirm-btns border-horizontal-1px"},[i("div",{staticClass:"dialog-confirm-btns-item",on:{click:function(s){return t.clearAll(!1)}}},[t._v("取消")]),i("div",{staticClass:"dialog-confirm-btns-item ok border-left-1px",on:{click:function(s){return t.clearAll(!0)}}},[t._v("确定")])])]):t._e()]),i("transition",{attrs:{name:"bounce"}},[t.isAlertShow?i("div",{staticClass:"dialog-alert"},[i("h2",{staticClass:"dialog-alert-title"},[t._v("支付")]),i("div",{staticClass:"dialog-alert-content"},[t._v("您需要支付"+t._s(t.totalPrice)+"元")]),i("div",{staticClass:"dialog-alert-btns border-horizontal-1px",on:{click:t.closeAlertDialog}},[t._v("确定")])]):t._e()])],1)},C=[],g=(i("ac6a"),function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"shop-detail",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"detail-title clearfix"},[i("span",{staticClass:"detail-title-text"},[t._v("购物车")]),i("span",{staticClass:"clear-all",on:{click:t.openDeleteDialog}},[t._v("清空")])]),i("div",{ref:"detailList",staticClass:"shop-detail-list"},[i("div",[t.selectFoods.length?i("ul",t._l(t.selectFoods,function(s,e){return i("li",{staticClass:"shop-detail-item border-horizontal-1px clearfix"},[i("div",{staticClass:"name"},[t._v(t._s(s.name))]),i("div",{staticClass:"price-button"},[i("v-button",{attrs:{food:s}})],1),i("div",{staticClass:"shop-detail-price"},[i("span",{staticClass:"yuan"},[t._v("￥")]),i("span",{staticClass:"new"},[t._v(t._s(s.price*s.count))])])])}),0):t._e()])])])}),_=[],w=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"price-btn-group"},[i("transition",{attrs:{name:"slide-fade"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"price-btn"},[i("i",{staticClass:"iconfont icon-minus",on:{click:function(s){return s.stopPropagation(),t.minus(s)}}})])]),i("transition",{attrs:{name:"slide-fade"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"price-btn-text"},[t._v(t._s(t.food.count))])]),i("span",{staticClass:"price-btn"},[i("i",{staticClass:"iconfont icon-add",on:{click:function(s){return s.stopPropagation(),t.plus(s)}}})])],1)},x=[],b={name:"Button",props:{food:Object},methods:{plus:function(t){this.food.count?this.food.count++:this.$set(this.food,"count",1)},minus:function(t){this.food.count>0&&this.food.count--}}},A=b,S=(i("3b9b"),Object(f["a"])(A,w,x,!1,null,"118503fe",null)),y=S.exports,P=i("229e"),E={name:"ShopDetail",props:{selectFoods:Array,isAllShow:Boolean},components:{VButton:y},methods:{openDeleteDialog:function(){this.$emit("confirm-show")},initScroll:function(){this.$nextTick(function(){this.DetailList?this.DetailList.refresh():this.DetailList=new P["a"](this.$refs.detailList,{click:!0})})}},created:function(){d()&&(this.AndroidPx=!0)},watch:{isAllShow:function(){this.initScroll()},selectFoods:function(){this.initScroll()}}},k=E,$=(i("8389"),Object(f["a"])(k,g,_,!1,null,"6528866e",null)),D=$.exports,N={name:"ShopCart",props:{seller:Object,selectFoods:Array,isAllShow:Boolean},data:function(){return{isActive:!1,isAlertShow:!1,isConfirmShow:!1}},components:{ShopDetail:D},methods:{toggleShow:function(){this.totalCount>0&&this.$emit("toggle-show")},openAlertDialog:function(){this.isActive&&(this.isAlertShow=!0)},alertShow:function(){this.isAlertShow=!0},confirmShow:function(){this.isConfirmShow=!0},clearAll:function(t){t&&this.selectFoods.forEach(function(t){t.count=0}),this.isConfirmShow=!1},closeAlertDialog:function(){this.isAlertShow=!1}},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.price*s.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.count}),t},cartContent:function(){var t=this.seller.minPrice-this.totalPrice;return 0===this.totalPrice?(this.isActive=!1,"￥".concat(this.seller.minPrice,"元起送")):t>0?(this.isActive=!1,"还差￥".concat(t,"元起送")):(this.isActive=!0,"结算")}},watch:{totalCount:function(){this.totalCount||this.$emit("toggle-show",!0)}}},T=N,O=(i("5d25"),Object(f["a"])(T,m,C,!1,null,"5767b517",null)),I=O.exports,j=i("bc3a"),F=i.n(j),R={components:{vHeader:v,ShopCart:I},data:function(){return{seller:{},goods:[],ratings:[],transitionName:"slide-left",routerDepth:["products","grade","seller"],selectFoods:[],isAllShow:!1}},methods:{getInfo:function(){var t=this;F.a.get("api/index.json").then(function(s){var i=s.data;t.seller=i.seller,t.ratings=i.ratings,t.goods=i.goods})},load:function(){var t=this;window.addEventListener("load",function(){t.$router.push("/")})},summary:function(t){this.selectFoods=t},toggleShow:function(t){this.isAllShow=!t&&!this.isAllShow}},created:function(){this.getInfo(),this.load()},watch:{$route:function(t,s){var i=t.path.split("/")[1],e=s.path.split("/")[1],a=this.routerDepth.indexOf(i),n=this.routerDepth.indexOf(e);this.transitionName=a<n?"slide-right":"slide-left",this.$refs.line.style.transform=1===a?"translate3d(100%,0,0)":2===a?"translate3d(200%,0,0)":"translate3d(0,0,0)"}}},H=R,L=(i("97c9"),Object(f["a"])(H,a,n,!1,null,"13a0fd93",null)),z=L.exports,V=i("8c4f"),B=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"products clearfix"},[i("div",{ref:"menu",staticClass:"menu-list"},[i("ul",t._l(t.goods,function(s,e){return i("li",{key:e,staticClass:"menu-list-item",class:{active:t.activeIndex===e},on:{click:function(s){return t.changMenu(e)}}},[i("div",{staticClass:"menu-list-text border-horizontal-1px"},[s.type>0?i("v-pics",{staticClass:"menu-list-brand",attrs:{index:s.type,indexArr:"3"}}):t._e(),t._v("\n                    "+t._s(s.name)+"\n                    "),i("div",{directives:[{name:"show",rawName:"v-show",value:s.calCount,expression:"item.calCount"}],staticClass:"cal-count"},[i("span",{staticClass:"cal-count-text"},[t._v(t._s(s.calCount))])])],1)])}),0)]),i("div",{ref:"wrapper",staticClass:"products-list"},[i("ul",t._l(t.goods,function(s,e){return i("li",{key:e,staticClass:"products-list-item"},[i("div",{staticClass:"products-title",class:{android:t.AndroidPx}},[t._v(t._s(s.name))]),i("div",{staticClass:"products-content"},[i("ul",t._l(s.foods,function(s,e){return i("li",{key:e,staticClass:"products-content-item border-horizontal-1px"},[i("div",{staticClass:"products-content-img"},[i("img",{attrs:{src:s.icon}})]),i("div",{staticClass:"products-content-box",on:{click:function(i){return t.ProductDetailOpen(s)}}},[i("div",{staticClass:"products-content-name"},[t._v(t._s(s.name))]),s.description?i("div",{staticClass:"products-desc"},[i("span",{staticClass:"products-text"},[t._v(t._s(s.description))])]):t._e(),i("div",{staticClass:"products-desc"},[i("span",{staticClass:"products-text"},[t._v("月售"+t._s(s.sellCount)+"份")]),i("span",{staticClass:"products-rating"},[t._v("好评率"+t._s(s.rating)+"%")])]),i("div",{staticClass:"products-price-box"},[i("span",{staticClass:"new-price"},[i("span",{staticClass:"yuan"},[t._v("￥")]),i("span",[t._v(t._s(s.price))])]),s.oldPrice?i("span",{staticClass:"old-price"},[t._v("￥"+t._s(s.oldPrice))]):t._e(),i("span",{staticClass:"price-button"},[i("v-button",{attrs:{food:s}})],1)])])])}),0)])])}),0)]),i("transition",{attrs:{name:"slide-fade"}},[i("product-detail",{directives:[{name:"show",rawName:"v-show",value:t.isProductDetail,expression:"isProductDetail"}],attrs:{food:t.food,isProductDetail:t.isProductDetail},on:{"detail-close":t.ProductDetailClose}})],1)],1)},M=[],Y=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"detail",staticClass:"products-detail"},[i("div",[i("div",{staticClass:"detail-close",on:{click:t.detailClose}},[i("i",{staticClass:"iconfont icon-back"})]),i("div",{staticClass:"products-detail-img"},[i("img",{attrs:{src:t.food.image}})]),i("div",{staticClass:"products-detail-content"},[i("div",{staticClass:"products-detail-name"},[t._v(t._s(t.food.name))]),i("div",{staticClass:"products-detail-desc"},[i("span",{staticClass:"products-detail-text"},[t._v("月售"+t._s(t.food.sellCount)+"份")]),i("span",{staticClass:"products-detail-rating"},[t._v("好评率"+t._s(t.food.rating)+"%")])]),i("div",{staticClass:"products-detail-price"},[i("span",{staticClass:"new-price"},[i("span",{staticClass:"yuan"},[t._v("￥")]),i("span",[t._v(t._s(t.food.price))])]),t.food.oldPrice?i("span",{staticClass:"old-price"},[i("span",{staticClass:"yuan"},[t._v("￥")]),i("span",[t._v(t._s(t.food.oldPrice))])]):t._e(),i("span",{staticClass:"price-button"},[i("v-button",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],attrs:{food:t.food}}),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.food.count,expression:"!food.count"}],staticClass:"zero",on:{click:t.add}},[t._v("加入购物车")])],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}],staticClass:"section-block"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.food.info,expression:"food.info"}],staticClass:"products-detail-info"},[i("h2",[t._v("商品介绍")]),i("p",[t._v(t._s(t.food.info))])]),i("div",{staticClass:"section-block"}),t._m(0),i("v-rating",{attrs:{ratings:t.food.ratings,isActive:t.isActive,hideEmpty:t.hideEmpty,desc:t.desc},on:{"empty-comment":t.toggleEmptyComment,"change-ratings":t.changeRatings}}),t.food?i("div",{staticClass:"ratings-content"},[t.food.ratings?i("ul",t._l(t.food.ratings,function(s){return t.showItem(s)?i("li",{staticClass:"ratings-content-item border-horizontal-1px"},[i("div",{staticClass:"ratings-title"},[i("div",{staticClass:"ratings-user"},[i("div",{staticClass:"username"},[t._v(t._s(s.username))]),i("div",{staticClass:"ratings-img"},[i("img",{attrs:{src:s.avatar}})])]),i("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(s.rateTime)))])]),i("div",{staticClass:"ratings-text"},[i("i",{staticClass:"iconfont",class:{"icon-good":0===s.rateType,"icon-bad":1===s.rateType}}),t._v("\n                        "+t._s(s.text)+"\n                    ")])]):t._e()}),0):t._e(),t.food.ratings&&t.food.ratings.length?t._e():i("div",{staticClass:"ratings-content-item"},[i("div",{staticClass:"no-rating"},[t._v("暂无评价")])])]):t._e()],1)])},G=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"products-detail-rating-info"},[i("h2",[t._v("商品评价")])])}],J=i("10f0"),U=i("b166"),X=i("17a9"),q={name:"ProductDetail",mixins:[X["a"]],props:{food:Object,isProductDetail:Boolean},components:{VButton:y,VRating:J["a"]},data:function(){return{desc:{all:"全部",positive:"推荐",negative:"吐槽"}}},methods:{add:function(){this.food.count||this.$set(this.food,"count",1)},detailClose:function(){this.$emit("detail-close")},refresh:function(){this.$nextTick(function(){this.productDetail.refresh()})},changeRatings:function(t){this.isActive=t,this.refresh()},toggleEmptyComment:function(){this.hideEmpty=!this.hideEmpty,this.refresh()},_initScroll:function(){this.$nextTick(function(){this.productDetail?this.productDetail.refresh():this.productDetail=new P["a"](this.$refs.detail,{click:!0})})}},filters:{formatDate:function(t){return Object(U["a"])(t,"yyyy-MM-dd HH:mm:ss")}},watch:{isProductDetail:function(){this.isProductDetail&&this._initScroll()}}},K=q,Q=(i("62a7"),Object(f["a"])(K,Y,G,!1,null,"4ad70467",null)),W=Q.exports,Z={name:"Product",props:{goods:Array},components:{VButton:y,ProductDetail:W,VPics:l["a"]},data:function(){return{activeIndex:0,computedHeightArr:[],isProductDetail:!1,food:{},AndroidPx:!1,scrollY:0}},methods:{changMenu:function(t){this.activeIndex=t;var s=document.getElementsByClassName("products-list-item")[t];this.scrollRight.scrollToElement(s)},computedHeight:function(){for(var t=document.getElementsByClassName("products-list-item"),s=0,i=[],e=0;e<t.length;e++)s+=t[e].clientHeight,i.push(s);this.computedHeightArr=i},changeIndex:function(){for(var t=0;t<=this.computedHeightArr.length-1;t++)this.scrollY<this.computedHeightArr[0]?this.activeIndex=0:this.scrollY>this.computedHeightArr[this.computedHeightArr.length-1]?this.activeIndex=this.computedHeightArr.length-1:this.computedHeightArr[t]<this.scrollY&&this.computedHeightArr[t+1]>this.scrollY&&(this.activeIndex=t+1)},initScroll:function(){var t=this;this.scrollLeft?this.scrollLeft.refresh():this.scrollLeft=new P["a"](this.$refs.menu,{click:!0}),this.scrollRight?this.scrollRight.refresh():(this.scrollRight=new P["a"](this.$refs.wrapper,{click:!0,probeType:3}),this.scrollRight.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y)),t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t.changeIndex()},16)}))},ProductDetailOpen:function(t){this.isProductDetail=!0,this.food=t},ProductDetailClose:function(){this.isProductDetail=!1},initCount:function(){var t=this;this.goods.forEach(function(s){var i=0;s.foods.forEach(function(t){t.count&&(i+=t.count)}),s.calCount?s.calCount=i:t.$set(s,"calCount",i)})}},computed:{selectFoods:function(){var t=[];return this.goods.forEach(function(s){s.foods.forEach(function(s){s.count&&t.push(s)})}),t}},created:function(){d()&&(this.AndroidPx=!0)},watch:{goods:function(){this.$nextTick(function(){this.computedHeight(),this.initScroll()})},selectFoods:function(){this.initCount(),this.$emit("summary",this.selectFoods)}}},tt=Z,st=(i("58ed"),Object(f["a"])(tt,B,M,!1,null,"2bf0685c",null)),it=st.exports;e["default"].use(V["default"]);var et=new V["default"]({base:"",routes:[{path:"*",redirect:"/"},{path:"/",component:it},{path:"/grade",component:function(){return i.e("chunk-81f09a4c").then(i.bind(null,"3af7"))}},{path:"/seller",component:function(){return i.e("chunk-4a0c9dc1").then(i.bind(null,"c77a"))}}],scrollBehavior:function(t,s,i){return{x:0,y:0}}}),at=i("2f62");e["default"].use(at["default"]);var nt=new at["default"].Store({state:{},mutations:{}}),ot=i("fe3c"),ct=i.n(ot);ct.a.attach(document.body),e["default"].config.productionTip=!1,new e["default"]({router:et,store:nt,render:function(t){return t(z)}}).$mount("#app")},"58ed":function(t,s,i){"use strict";var e=i("81ec"),a=i.n(e);a.a},"5d25":function(t,s,i){"use strict";var e=i("d536"),a=i.n(e);a.a},"62a7":function(t,s,i){"use strict";var e=i("beea"),a=i.n(e);a.a},"6ed7":function(t,s,i){},"79ae":function(t,s,i){},"7c62":function(t,s,i){},"81ec":function(t,s,i){},8389:function(t,s,i){"use strict";var e=i("8c3d"),a=i.n(e);a.a},"8c3d":function(t,s,i){},"8c4f":function(t,s,i){t.exports=i("2240")(6)},"91ca":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("span",{class:t.picClass})},a=[],n=(i("c5f6"),{name:"Pics",props:{indexArr:String,index:Number},data:function(){return{type:["decrease","discount","special","invoice","guarantee"]}},computed:{picClass:function(){return"type".concat(this.indexArr," ").concat(this.type[this.index])}}}),o=n,c=(i("1f5e"),i("2877")),r=Object(c["a"])(o,e,a,!1,null,null,null);s["a"]=r.exports},"97c9":function(t,s,i){"use strict";var e=i("2ac9"),a=i.n(e);a.a},a026:function(t,s,i){t.exports=i("2240")(2)},abb0:function(t,s,i){"use strict";var e=i("b047"),a=i.n(e);a.a},b047:function(t,s,i){},beea:function(t,s,i){},d536:function(t,s,i){},de4e:function(t,s,i){"use strict";var e=i("7c62"),a=i.n(e);a.a},f28c:function(t,s,i){t.exports=i("2240")(5)},f2e6:function(t,s,i){"use strict";var e=i("6ed7"),a=i.n(e);a.a}}]);